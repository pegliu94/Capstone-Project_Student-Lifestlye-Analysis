---
title: "EXPLORING THE IMPACT OF LIFESTYLE FACTORS ON STUDENT ACADEMIC PERFORMANCE"
author: "Peggy Lius"
output: html_notebook
---

### *Introduction and Objective*

This project uses the student_lifestyle_dataset..csv to investigate the relationship between various lifestyle factors and academic performance.

Many students face academic challenges not just due to curriculum difficulty but due to their lifestyle habits. Poor sleep, lack of socialising and exercise can significantly impact concentration, performance, and mental well-being — yet these factors are often overlooked.

The objective of this analysis is to identify patterns and correlations, providing insights into how lifestyle choices may influence academic success. The insights gained from this analysis can help schools and educators design student wellness programs that enhance academic outcomes.


### *Proposed Solution*
By cleaning and analyzing the dataset, visualizing relationships, and checking for correlations, this project will uncover which lifestyle patterns are associated with better or poorer academic results.


#### Install and Load Essential Libraries
```{r install and load essential libraries}
install.packages("tidyverse")
library(tidyverse)

install.packages("readr")
library(readr)

install.packages("janitor")
library(janitor)

install.packages("corrplot")
library(corrplot)

install.packages("caret")
library(caret)

install.packages("randomForest")
library(randomForest)
```

#### Load the dataset
```{r Load the dataset}
df <- read_csv("student_lifestyle_dataset..csv")
```

#### Make column names consistent and readable
```{r Clean column names}
df <- df %>% clean_names()
```

#### Preview of Table
```{r}
head(df)
```

#### *Categorizing for better visualization*
```{r}
grades_categorized <- df %>%
  mutate(
    Grade_Category = case_when(
      grades < 6 ~ "Poor",
      grades < 7 ~ "Average",
      grades < 8 ~ "Good",
      TRUE ~ "Excellent"
    )
  )
```

### *Data Overview: Distribution Plots*
This section visualizes the distribution of key variables to understand the dataset's characteristics.

#### *Distribution of grades across all students in dataset*
```{r}
grades_bar_chart <- ggplot(df, aes(x = grades)) +
  geom_bar(fill = "darkgreen") +
  labs(
    title = "Count of Students by Grade",
    x = "Grade",
    y = "Count"
  ) +
theme_minimal() +
  theme(plot.title = element_text(hjust = 0.5))
print(grades_bar_chart)
```

#### *Distribution of Daily Study Hours*
```{r}
ggplot(df, aes(x = study_hours_per_day)) +
  geom_histogram(binwidth = 1, fill = "skyblue", color = "white") +
    labs(
      title = "Distribution of Daily Study Hours",
      subtitle = "A look at how many hours students spend studying.",
      x = "Study Hours Per Day",
      y = "Count") +
  theme_minimal()
```

#### *Distribution of Daily Sleep Hours*
```{r}
ggplot(df, aes(x = sleep_hours_per_day)) +
  geom_histogram(binwidth = 1, fill = "purple", color = "white") +
    labs(
      title = "Distribution of Daily Sleep Hours",
      subtitle = "A breakdown of student sleep habits.",
      x = "Sleep Hours Per Day",
      y = "Count of Students"
  ) +
  theme_minimal()
```

#### *Distribution of Daily Physical Activity*
```{r}
ggplot(df, aes(x = physical_activity_hours_per_day)) +
  geom_histogram(binwidth = 0.5, fill = "darkred", color = "white") +
    labs(
      title = "Distribution of Daily Physical Activity Hours",
      x = "Physical Activity Hours Per Day",
      y = "Count of Students"
  ) +
  theme_minimal()
```

#### *Distribution of Daily Extracurricular Hours*
```{r}
ggplot(data = df, aes(x = extracurricular_hours_per_day)) +
  geom_histogram(binwidth = 0.5, fill = "gray", color = "white") +
    labs(
      title = "Distribution of Daily Extracurricular Hours",
      x = "Extracurricular Hours Per Day",
      y = "Count of Students"
  ) +
  theme_minimal()
```

#### *Distribution of Daily Social Hours*
```{r}
ggplot(df, aes(x = social_hours_per_day)) +
  geom_histogram(binwidth = 0.5, fill = "orange", color = "white") +
    labs(
      title = "Distribution of Daily Social Hours",
      x = "Social Hours Per Day",
      y = "Count of Students"
  ) +
  theme_minimal()
```

#### *A breakdown of the number of students for each stress category.*
```{r}
ggplot(df, aes(x = stress_level)) +
  geom_bar(fill = "steelblue") +
    labs(
      title = "Count of Students by Stress Level",
      x = "Stress Level",
      y = "Count"
  ) +
  theme_classic()
```

Now that we understand the distribution of grades and key lifestyle metrics, we explore how these factors relate directly to academic performance.


### *Plots: Grades vs Lifestyle Factors*
This section explores the relationship between academic performance and various lifestyle factors.

#### *Student Count by Grade Category*
```{r}
ggplot(grades_categorized, aes(x = Grade_Category)) +
  geom_bar(fill = "darkorange") +
  labs(title = "Student Count by Grade Category", x = "Grade Category", y = "Count") +
  theme_minimal()
```

#### *Grades vs Daily Study Hours*
```{r}
ggplot(data = grades_categorized, aes(x = study_hours_per_day, y = grades, color = Grade_Category)) + geom_point(alpha = 0.6, size = 1) + geom_smooth(method = "lm", se = FALSE, color = "black", linetype = "longdash") + labs(
    title = "Grades VS Daily Study Hours",
    x = "Study Hours Per Day",
    y = "Grades",
    color = "Performance Level" # Label for the legend
  ) + theme_minimal()
```

#### *Grades vs Daily Sleep Hours*
```{r}
ggplot(data = grades_categorized, aes(x = sleep_hours_per_day, y = grades, color = Grade_Category)) + geom_point(alpha = 0.6, size = 1) + geom_smooth(method = "lm", se = FALSE, color = "black", linetype = "dashed") + labs(
    title = "Grades VS Daily Sleep Hours",
    x = "Sleep Per Day",
    y = "Grades",
    color = "Performance Level" # Label for the legend
  ) + theme_minimal()
```

#### *Grades vs Physical Activity*
```{r}
ggplot(data = grades_categorized, aes(x = physical_activity_hours_per_day, y = grades, color = Grade_Category)) + geom_point(alpha = 0.6, size = 1) + geom_smooth(method = "lm", se = FALSE, color = "black", linetype = "dashed") + labs(
    title = "Grades VS Daily Physical Activity",
    x = "Physical Activity",
    y = "Grades",
    color = "Performance Level" # Label for the legend
  ) + theme_minimal()
```

#### *Grades vs Extracurricular Hours*
```{r}
ggplot(data = grades_categorized, aes(x = extracurricular_hours_per_day, y = grades, color = Grade_Category)) + geom_point(alpha = 0.6, size = 1) + geom_smooth(method = "lm", se = FALSE, color = "black", linetype = "dashed") + labs(
    title = "Grades VS Daily Extracurricular",
    x = "Extracurricular",
    y = "Grades",
    color = "Performance Level" # Label for the legend
  ) + theme_minimal()
```

#### *Grades vs Social Hours*
```{r}
ggplot(grades_categorized, aes(x = social_hours_per_day, y = grades, color = Grade_Category)) + geom_point(alpha = 0.6, size = 1) +
geom_smooth(method = "lm", se = FALSE, color = "black", linetype = "dashed") +
    labs(
      title = "Grades VS Daily Social Hours",
      x = "Social Hours Per Day",
      y = "Grades",
      color = "Grade Category" # Label for the legend
    ) +
  theme_minimal()
```

#### *Grades vs Stress Level*
```{r}
ggplot(df, aes(x = stress_level, y = grades, fill = stress_level)) +
  geom_boxplot() +
  labs(
    title = "Grades VS Student Stress Level",
    x = "Stress Level",
    y = "Grades",
    fill = "Stress Level"
  ) +
  theme_minimal() +theme(legend.position = "none")
```

#### *Grades vs Gender*
```{r}
ggplot(df, aes(x = gender, y = grades, fill = gender)) +
  geom_boxplot() +
  labs(
    title = "Grades VS Student Gender",
    x = "Gender",
    y = "Grades",
    fill = "Gender"
  ) +
  theme_minimal() + theme(legend.position = "none")
```

#### *Stress Level vs Daily Study Hours*
```{r}
ggplot(data = df, aes(x = stress_level, y = study_hours_per_day, fill = stress_level)) +
  geom_boxplot() +
  labs(
    title = "Stress Level VS Daily Study Hours",
    subtitle = "Does increased study time correlate with higher stress?",
    x = "Stress Level",
    y = "Study Hours Per Day",
    fill = "Stress Level"
  ) +
  theme_minimal() +
  theme(legend.position = "none")
```

### *Correlation Analysis*
While our plots give a visual sense of the relationship between variables, a correlation matrix provides a numerical value for the strength and direction of these relationships. This step is crucial for identifying which factors have the strongest linear association with grades.

```{r Correlation Matrix}
df_numeric <- df %>%
  select(where(is.numeric))

# `use = "complete.obs"` will remove any row that has a missing value
# in any of the selected columns before the calculation.
cor_matrix <- cor(df_numeric, use = "complete.obs")

# Additional labels on plot for clarity
print(
  corrplot(cor_matrix,
    method = "color", # Use a color heatmap
    type = "upper", # Show only the upper triangle
    order = "hclust", # Reorder variables based on hierarchical clustering
    addCoef.col = "black", # Add the correlation coefficients as text
    tl.cex = 0.6, # Adjust the size of the text labels
    tl.srt = 45, # Rotate the labels for readability
    tl.col = "black", # Set the label color
    diag = FALSE, # Remove the diagonal line
    title = "Correlation Matrix of All Numeric Variables",
    mar = c(0,0,2,0)) # Adjust margins for the title
)
```

### *Linear Regression: Modeling and Prediction*
Based on the plots and correlation matrix, it’s clear that certain lifestyle factors — like how many hours students study or sleep each day — show a positive correlation with their grades. To better understand this relationship, a linear regression model was used, which helps visualize the trend and also gives us a formula to predict grades based on study hours. This takes the analysis a step further, from just spotting patterns to actually making data-backed predictions.

In this section, we will build a simple linear model using Study Hours to predict Grades, and review the model summary to see how strong and statistically significant the relationship is.

```{r}
# Assuming 'df' is the data frame you have already prepared.
# The `lm()` function stands for "linear model".
# The formula `grades ~ study_hours_per_day + sleep_hours_per_day` means we want to predict 'grades' using 'study_hours_per_day' and 'sleep_hours_per_day'.

# Step 1: Build the Linear Regression model
simple_model <- lm(grades ~ study_hours_per_day + sleep_hours_per_day, data = df)
```

```{r}
# Step 2: View the model summary
# This summary is very important and easy to read.
# The 'Coefficients' table tells you the effect of each variable.
# For example, if the coefficient for 'study_hours_per_day' is 0.5, it means that for every additional hour of study per day, the grade is predicted to increase by 0.5 points.
summary(simple_model)
# Take not of the value of the study_hours_per_day and sleep_hours_per_day variables.
```
```{r}
# Step 3: Visualize the relationship
# We can create a scatter plot to visualize the linear relationship between a predictor and the outcome. This is a powerful way to see what the model is doing.
ggplot(df, aes(x = study_hours_per_day, y = grades)) +
  geom_point() + # Adds the data points
  geom_smooth(method = "lm", se = FALSE, color = "blue") + # Adds the regression line
  labs(title = "Grades vs. Study Hours with Regression Line",
       x = "Study Hours Per Day",
       y = "Grades") +
  theme_minimal()
```

```{r}
# Step 4: Make a simple prediction
# Let's say we want to predict the grade for a student who studies 7 hours
# and sleeps 8 hours. We create a new data frame for this.
new_student <- data.frame(
  study_hours_per_day = 7,
  sleep_hours_per_day = 8
)

# The `predict()` function uses our model to make a prediction.
prediction <- predict(simple_model, newdata = new_student)
cat("Predicted grade for the new student:", prediction, "\n")
```

### *Conclusion*
This analysis of the student lifestyle dataset has provided valuable insights into the factors influencing academic performance. Through data visualization and correlation analysis, I have identified that *daily study hours* have a *clear positive correlation with grades*, being the most influential factor. Interestingly, the findings also suggest that *higher stress levels are associated with better academic performance*. This indicates that while dedicated study habits contribute to academic success, the intensity of this effort or perhaps the pressure to achieve high grades may also be a significant factor contributing to increased student stress level.

The results from the linear model further confirmed the significant impact of study hours on grades,
with a coefficient of 0.386, suggesting that for every additional hour of studying, a student's grade is predicted to increase by approximately 0.39 points.

These findings suggest that schools and educators could benefit from promoting balanced study habits and robust stress management resources to improve student outcomes and well-being, ensuring that academic excellence does not come at the cost of mental health.

### *Recommendations*
The insights present a valuable opportunity for schools and educators to promote academic success without compromising student health. Below are several recommendations:

 1) Comprehensive Mental Health Services:
  
  Schools can establish a dedicated team of licensed mental health professionals to offer free or subsidized on-campus counseling and therapy services. In addition, a 24/7 online (telehealth) helpline can provide accessible and confidential support.
  
To further foster a mentally healthy campus, schools can train students to participate in peer support programs. Peer-led initiatives help destigmatize mental health discussions and offer support from individuals who have had relatable experiences.
 
 2) Academic Support Strategies:
 
 Educators can encourage the formation of study groups and peer mentoring programs to alleviate academic pressure and promote collaborative learning.
 
Moreover, offering flexible deadlines, especially during peak academic seasons, allows students to manage their workload more effectively, reducing stress and burnout.
 
 3) Proactive Wellness Programs:
 
 Schools can introduce a variety of wellness activities such as access to gym facilities, yoga, Pilates, and even therapeutic sessions like art, music, or pet therapy. These initiatives are particularly valuable during high-stress periods like examination weeks.
 
Schools can also designate “recharge spaces” on campus, such as quiet rooms, nap pods, or relaxation areas, providing students with a place to unwind and recharge.
 
 4) Cultivating a Supportive Culture:
 
 Faculty and staff should receive training to recognize early signs of stress or mental health challenges in students and to provide empathetic communication and timely support.
 
In addition, organizing events such as a Mental Health Awareness Week can help normalize mental health conversations, promote available resources, and create an inclusive, understanding environment.

 By implementing a multi-faceted approach that integrates wellness into academic and social aspect of student life, schools can create a safe, and inclusive space where everyone including staff and educators can not only achieve academic success but also overall mental and emotional well-being.
